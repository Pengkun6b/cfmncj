!function(h){function j(){h(".blog-grid").length&&setTimeout(function(){h(".blog-grid .post-wrapper").masonry({columnWidth:".grid-item",itemSelector:".grid-item"})},1)}function w(){var a=h('input[type="search"], input[type="text"], input[type="email"], textarea');a.each(function(){var c=h(this),d=c.val();c.focus(function(){h(this).val()===d&&h(this).val("")}),c.blur(function(){""===h(this).val()&&h(this).val(d)})})}function b(){if(h(".blog-timeline").length){var d=h(window).scrollTop(),l=h(window).height(),c=h(".blog-timeline .content").offset().top,e=d-c;h(".pi-line").css({top:"0","-webkit-transform":"translateY("+e+"px)","-o-transform":"translateY("+e+"px)","-ms-transform":"translateY("+e+"px)","-moz-transform":"translateY("+e+"px)",transform:"translateY("+e+"px)"}),h(".blog-timeline .post-meta").each(function(){var i=h(this),o=i.offset().top,r=o-l/2;d>=r?i.addClass("metaLight"):i.removeClass("metaLight")})}}function m(){h().tweet&&h(".latest-tweets").each(function(){var a=h(".latest-tweets");a.tweet({username:a.data("username"),join_text:"auto",avatar_size:null,count:a.data("number"),template:"{text}",loading_text:"loading tweets...",modpath:a.data("modpath"),callback:g})})}function v(){var d=h(".pi-navigation"),e=h("#header").offset().top+h("#header").outerHeight()-52,c=h(window).scrollTop();c>=e?d.addClass("nav-fixed"):d.removeClass("nav-fixed")}var p={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return p.Android()||p.BlackBerry()||p.iOS()||p.Opera()||p.Windows()}},q=(window.innerWidth,h(window).height(),['<i class="fa fa-caret-left"></i>','<i class="fa fa-caret-right"></i>']),k=function(){var a=h(".post-slider");a.length>0&&a.owlCarousel({autoPlay:!1,slideSpeed:300,navigation:!0,pagination:!1,singleItem:!0,autoHeight:!0,navigationText:q})},f=function(){var a=h(".featured-slider");a.length>0&&a.owlCarousel({autoPlay:20000,slideSpeed:300,navigation:!0,pagination:!1,items:5,itemsCustom:[[0,1],[500,2],[992,3],[1200,4],[1400,5]],navigationText:q})},x={obj:{subscribeEmail:h("#subscribe-email"),subscribeButton:h("#subscribe-button"),subscribeMsg:h("#subscribe-form .subscribe-status"),subscribeContent:h("#subscribe-form .form-remove"),dataMailchimp:h("#subscribe-form").attr("data-mailchimp"),success_message:"Thank you for joining our mailing list. Please check your email for a confirmation link.",failure_message:"There was a problem processing your submission.",noticeError:"{msg}",noticeInfo:"{msg}",basicAction:"mail/subscribe.php",mailChimpAction:"mail/subscribe-mailchimp.php"},eventLoad:function(){var a=x.obj;h(a.subscribeButton).on("click",function(){if(""!=a.subscribeEmail.val()){if(window.ajaxCalling){return}var c="true"===a.dataMailchimp;x.ajaxCall(c?a.mailChimpAction:a.basicAction)}else{a.subscribeMsg.html("Email is required.").fadeIn("slow")}return !1})},ajaxCall:function(d){window.ajaxCalling=!0;var e=x.obj,c=e.subscribeMsg.html("").hide();e.subscribeButton.val("Sending"),h.ajax({url:d,type:"POST",dataType:"json",data:{subscribeEmail:e.subscribeEmail.val()},success:function(a){if(a.status){e.subscribeContent.fadeOut(500,function(){c.html(e.success_message).fadeIn(500)})}else{switch(a.msg){case"email-required":c.html(e.noticeError.replace("{msg}","Email is required."));break;case"email-err":c.html(e.noticeError.replace("{msg}","Email invalid."));break;case"duplicate":c.html(e.noticeError.replace("{msg}","Email is duplicate."));break;case"filewrite":c.html(e.noticeInfo.replace("{msg}","Mail list file is open."));break;case"undefined":c.html(e.noticeInfo.replace("{msg}","undefined error."));break;case"not-support":c.html(e.noticeInfo.replace("{msg}","Your host do not support php mail function."));break;case"api-error":e.subscribeContent.fadeOut(500,function(){c.html(e.failure_message)})}e.subscribeButton.val("Send"),c.fadeIn(500)}},error:function(){alert("Connection error")},complete:function(){window.ajaxCalling=!1}})}},g=function(){h(".twitter-slider").owlCarousel({autoPlay:!1,slideSpeed:300,navigation:!0,pagination:!1,singleItem:!0,autoHeight:!0,transitionStyle:"fade",navigationText:['<i class="fa fa-caret-left"></i>','<i class="fa fa-caret-right"></i>']})};h(document).ready(function(){x.eventLoad(),p.any()&&h("html").addClass("ismobile"),h(document).on("click",".share-toggle",function(){var a=h(this);a.toggleClass("toggle-active"),a.siblings(".share").toggleClass("share-active")}),h(".search-box .icon-search").on("click",function(){h(this).toggleClass("active"),h('.search-box input[type="search"]').toggleClass("fadein")}),h("html").on("click",function(){h(".search-box .icon-search").removeClass("active"),h('.search-box input[type="search"]').removeClass("fadein")}),h(".search-box").on("click",function(a){a.stopPropagation()}),h(".pi-line").height(h(window).height()/2),h(window).scroll(function(){b(),v()})}),h(window).on("load resize",function(){var a=h(".sidebar-right"),c=h(".sidebar-left");a.closest(".blog-standard").find(".content").css("margin-right","100px"),c.closest(".blog-standard").find(".content").css({"margin-left":"30px","margin-right":"70px"}),a.closest(".blog-grid, .blog-list, .blog-timeline").find(".content").css("margin-right","30px"),c.closest(".blog-grid, .blog-list, .blog-timeline").find(".content").css("margin-left","30px"),c.closest(".blog-content").find(".col-md-9").addClass("col-md-push-3"),c.closest(".blog-content").find(".col-md-3").addClass("col-md-pull-9"),h(".blog-standard .post").each(function(){var e=h(this),o=e.find(".post-meta"),d=e.find(".post-title"),l=e.find(".post-media");o.insertAfter(window.innerWidth<992?d:l)}),h(".blog-list .post").each(function(){var e=h(this),o=e.find(".post-meta"),d=e.find(".post-title"),l=e.find(".post-author");e.find(".post-media");l.insertAfter(o.children().first()),o.insertAfter(d)}),h(".pi-navigation").each(function(){var u=h(this),D=u.find(".open-menu"),d=u.find(".close-menu"),z=u.find(".navlist"),C=u.find(".sub-menu"),A=h("#header"),B=window.innerWidth,y=h(window).height(),e=u.data("menu-responsive");e>B?(D.show(),A.addClass("header-responsive"),z.addClass("off-canvas").css("height",y-52),z.children(".menu-item-has-children").removeClass("item-plus"),0===u.find(".submenu-toggle").length&&(h(".menu-item-has-children, .navList > .menu-item-language-current").children("a").after('<span class="submenu-toggle">                                    <i class="fa fa-angle-right"></i>                                </span>                            '),z.on("click",".submenu-toggle",function(l){l.preventDefault(),h(this).siblings(".sub-menu").addClass("sub-menu-active")})),C.each(function(){var i=h(this);0===i.find(".back-mb").length&&i.prepend('<li class="back-mb">                                        <a href="#">                                            Back                                        </a>                                    </li>                                '),u.on("click",".back-mb a",function(l){l.preventDefault(),h(this).parent().parent().removeClass("sub-menu-active")})}),D.on("click",function(){z.addClass("off-canvas-active"),h(this).addClass("toggle-active"),d.show()}),d.on("click",function(){z.removeClass("off-canvas-active"),D.removeClass("toggle-active"),h(".sub-menu").removeClass("sub-menu-active"),h(this).hide()}),h("html").on("click",function(){z.removeClass("off-canvas-active"),D.removeClass("toggle-active"),h(".sub-menu").removeClass("sub-menu-active"),d.hide()}),u.on("click",function(i){i.stopPropagation()})):(D.hide(),A.removeClass("header-responsive"),z.removeClass("off-canvas").css("height","auto"),z.children(".menu-item-has-children").addClass("item-plus"),h(".back-mb, .submenu-toggle").remove())})}),h(window).load(function(){h("#preloader").fadeOut(1000),m(),j(),w(),k(),f()})}(jQuery);